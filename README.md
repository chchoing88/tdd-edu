# 테스트 주도 개발

- 스텁 구현(stub implementation): 메서드의 서명부와 (반환값이 있는경우) 반환 명령만 적는 식으로 해서, 이 메서드를 호출하는 코드(이 경우엔 테스트 코드가 컴파일 될 수 있도록 껍데기만 만들어두는 것을 뜻한다.)

## 테스트의 주기

1. 작은 테스트를 하나 추가한다. (오퍼레이션이 코드에 어떤 식으로 나타나길 원하는지 생각해보라. 원하는 인터페이스를 개발하라.)
2. 모든 테스트를 실행해서 테스트가 실패하는 것을 확인한다.
3. 조금 수정한다. (실행 가능하게 만든다. 빨리 초록 막대를 보도록 하자.)
4. 모든 테스트를 실행해서 테스트가 성공하는 것을 확인한다.
5. 중복을 제거하기 위해 리팩토링을 한다. (올바르게 만든다. 중복을 제거하고 초록 막대로 되돌리자.)

> 우리의 목적은 작동하는 깔끔한 코드를 얻는 것이다. 여기서 가장 먼저 '작동하는' 에 해당하는 부분을 먼저 해결하고 나서 '깔끔한 코드' 부분을 해결하는 것이다.
> 1 ~ 4 단계는 빨리 진행해야 한다.

## 의존성과 중복

- 중복된 로직을 하나로 끄집어내는 일엔 객체를 이용하는 것이 최고다.
- 프로그램에서는 중복만 제거해 주면 의존성도 제거된다. (TDD의 두번째 규칙이 존재하는 이유)
- 오직 한 가지의 코드 수정을 통해 다음 테스트도 통과되게 만들 가능성을 최대화 하자.

## 최대한 빨리 초록색을 보기 위한 전략

- 가짜로 구현하기: 상수를 반환하게 만들고 진짜 코드를 얻을 때까지 단계적으로 상수를 변수로 바꾸어 간다.
- 명백한 구현 사용하기: 실제 구현을 입력한다.
- 삼각측량: 예제를 두 개 이상으로 두고 코드를 일반화 시킨다. 두 번째 예가 좀더 일반적인 해를 필요로 할 때, 오로지 그때만 비로소 일반화 합니다.

> 어떻게 리팩토링을 해야하는지 전혀 감이 오지 않을 때, 설계를 어떻게 할지 떠오르지 않을 때 삼각측량은 문제를 조금 다른 방향에서 생각해볼 기회를 제공한다. 
